<!DOCTYPE html>
<html>
<head>
  <title>{% block title %}{% endblock %} Surf Central</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" type="text/css" href="../../static/style_main.css">
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" type="text/css">
  <script <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js">></script>
  <!-- <script src="{{ url_for('static', filename='js/follow_async.js') }}"></script> -->

  <script>
          function follow_async(sourceElem, destElem, follow_username) {
              $(destElem).text("Trying!");
              // $(destElem).html('<img src="{{ url_for('static', filename='loading.gif') }}">');
              $.get('/user/follow_async/'+follow_username
              ).done(function(response) {
                  $(destElem).text(response['text'])
              }).fail(function() {
                  $(destElem).text("Error: Could not follow"+follow_username);
              });
          }
    </script>

</head>

<nav class="navbar navbar-fixed-top custom-navbar" role="navigation">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="{{ url_for('blog.index') }}">Surf Central</a>
    </div>

  <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
    <ul class="nav navbar-nav">
      <li><a href="{{ url_for('blog.explore')}}">
        <span class="glyphicon glyphicon-globe" aria-hidden="true"></span>
        Explore</a></li>
      {% if g.user %}
        <li><a href="{{ url_for('blog.index') }}">
          <span class="glyphicon glyphicon-home" aria-hidden="true"></span>
          Home</a></li>
        <li><a href="{{ url_for('beaches.beaches_home') }}">
          <span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span>
          Beaches</a></li>
        <li><a href="{{ url_for('api.api_doc') }}">
          <span class="glyphicon glyphicon-console" aria-hidden="true"></span>
          API</a></li>
        <li><a href="{{ url_for('blog.create') }}">
        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a></li>
      {% endif %}
    </ul>
    <ul class="nav navbar-nav navbar-right">
          {% if g.user %}
            <li><a id="btn-nav-register" href="{{ url_for('user.user_profile',username=g.user['username'])}}">
              {{ g.user['username'] }}</a></li>
            <li><a href="{{ url_for('auth.logout') }}">
              <span class="glyphicon glyphicon-off" aria-hidden="true"></span>
            </a></li>

          {% else %}
            <li><a id="btn-nav-register" href="{{ url_for('auth.register') }}">Register</a></li>
            <li><a href="{{ url_for('auth.login') }}">Login</a></li>
          {% endif %}
    </ul>
  </div>
  </div>
</nav>
<!-- <section class="content"> -->
<body>
    <div>
      {% block header %}{% endblock %}
    </div>
      {% for message in get_flashed_messages() %}
        <div class="alert alert-info" role="alert">
          {{ message }}
        </div>
        {% endfor %}

    {% block content %}{% endblock %}
</body>
</html>
<!-- </section> -->
